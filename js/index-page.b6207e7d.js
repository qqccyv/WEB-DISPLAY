(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index-page"],{"0601":function(t,e,n){"use strict";n("6bb9")},"0a06":function(t,e,n){"use strict";var i=n("c532"),s=n("30b5"),o=n("f6b4"),a=n("5270"),r=n("4a7b"),c=n("848b"),l=c.validators;function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=r(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&c.assertOptions(e,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var s,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!i){var u=[a,void 0];Array.prototype.unshift.apply(u,n),u=u.concat(o),s=Promise.resolve(t);while(u.length)s=s.then(u.shift(),u.shift());return s}var d=t;while(n.length){var p=n.shift(),m=n.shift();try{d=p(d)}catch(h){m(h);break}}try{s=a(d)}catch(h){return Promise.reject(h)}while(o.length)s=s.then(o.shift(),o.shift());return s},u.prototype.getUri=function(t){return t=r(this.defaults,t),s(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r(n||{},{method:t,url:e,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,i){return this.request(r(i||{},{method:t,url:e,data:n}))}})),t.exports=u},"0cb2":function(t,e,n){var i=n("7b0b"),s=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,r=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,c,l,u){var d=n+t.length,p=c.length,m=r;return void 0!==l&&(l=i(l),m=a),o.call(u,m,(function(i,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":a=l[o.slice(1,-1)];break;default:var r=+o;if(0===r)return i;if(r>p){var u=s(r/10);return 0===u?i:u<=p?void 0===c[u-1]?o.charAt(1):c[u-1]+o.charAt(1):i}a=c[r-1]}return void 0===a?"":a}))}},"0df6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"167b":function(t,e,n){"use strict";n("8659")},"1bb3":function(t,e,n){},"1d2b":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},"235a":function(t,e,n){"use strict";n("1bb3")},2444:function(t,e,n){"use strict";(function(e){var i=n("c532"),s=n("c8af"),o=n("387f"),a={"Content-Type":"application/x-www-form-urlencoded"};function r(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function c(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=n("b50d")),t}function l(t,e,n){if(i.isString(t))try{return(e||JSON.parse)(t),i.trim(t)}catch(s){if("SyntaxError"!==s.name)throw s}return(n||JSON.stringify)(t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:c(),transformRequest:[function(t,e){return s(e,"Accept"),s(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(r(e,"application/json"),l(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,s=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||s&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(r){if(a){if("SyntaxError"===r.name)throw o(r,this,"E_JSON_PARSE");throw r}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){u.headers[t]=i.merge(a)})),t.exports=u}).call(this,n("4362"))},"2b29":function(t,e,n){},"2d83":function(t,e,n){"use strict";var i=n("387f");t.exports=function(t,e,n,s,o){var a=new Error(t);return i(a,e,n,s,o)}},"2e67":function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"30b5":function(t,e,n){"use strict";var i=n("c532");function s(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(s(e)+"="+s(t))})))})),o=a.join("&")}if(o){var r=t.indexOf("#");-1!==r&&(t=t.slice(0,r)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},"323e":function(t,e,n){var i,s;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(o,a){i=a,s="function"===typeof i?i.call(e,n,e,t):i,void 0===s||(t.exports=s)})(0,(function(){var t={version:"0.2.0"},e=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function n(t,e,n){return t<e?e:t>n?n:t}function i(t){return 100*(-1+t)}function s(t,n,s){var o;return o="translate3d"===e.positionUsing?{transform:"translate3d("+i(t)+"%,0,0)"}:"translate"===e.positionUsing?{transform:"translate("+i(t)+"%,0)"}:{"margin-left":i(t)+"%"},o.transition="all "+n+"ms "+s,o}t.configure=function(t){var n,i;for(n in t)i=t[n],void 0!==i&&t.hasOwnProperty(n)&&(e[n]=i);return this},t.status=null,t.set=function(i){var r=t.isStarted();i=n(i,e.minimum,1),t.status=1===i?null:i;var c=t.render(!r),l=c.querySelector(e.barSelector),u=e.speed,d=e.easing;return c.offsetWidth,o((function(n){""===e.positionUsing&&(e.positionUsing=t.getPositioningCSS()),a(l,s(i,u,d)),1===i?(a(c,{transition:"none",opacity:1}),c.offsetWidth,setTimeout((function(){a(c,{transition:"all "+u+"ms linear",opacity:0}),setTimeout((function(){t.remove(),n()}),u)}),u)):setTimeout(n,u)})),this},t.isStarted=function(){return"number"===typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),e.trickleSpeed)};return e.trickle&&n(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var i=t.status;return i?("number"!==typeof e&&(e=(1-i)*n(Math.random()*i,.1,.95)),i=n(i+e,0,.994),t.set(i)):t.start()},t.trickle=function(){return t.inc(Math.random()*e.trickleRate)},function(){var e=0,n=0;t.promise=function(i){return i&&"resolved"!==i.state()?(0===n&&t.start(),e++,n++,i.always((function(){n--,0===n?(e=0,t.done()):t.set((e-n)/e)})),this):this}}(),t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var s=document.createElement("div");s.id="nprogress",s.innerHTML=e.template;var o,r=s.querySelector(e.barSelector),l=n?"-100":i(t.status||0),u=document.querySelector(e.parent);return a(r,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),e.showSpinner||(o=s.querySelector(e.spinnerSelector),o&&d(o)),u!=document.body&&c(u,"nprogress-custom-parent"),u.appendChild(s),s},t.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(e.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&d(t)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var o=function(){var t=[];function e(){var n=t.shift();n&&n(e)}return function(n){t.push(n),1==t.length&&e()}}(),a=function(){var t=["Webkit","O","Moz","ms"],e={};function n(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()}))}function i(e){var n=document.body.style;if(e in n)return e;var i,s=t.length,o=e.charAt(0).toUpperCase()+e.slice(1);while(s--)if(i=t[s]+o,i in n)return i;return e}function s(t){return t=n(t),e[t]||(e[t]=i(t))}function o(t,e,n){e=s(e),t.style[e]=n}return function(t,e){var n,i,s=arguments;if(2==s.length)for(n in e)i=e[n],void 0!==i&&e.hasOwnProperty(n)&&o(t,n,i);else o(t,s[1],s[2])}}();function r(t,e){var n="string"==typeof t?t:u(t);return n.indexOf(" "+e+" ")>=0}function c(t,e){var n=u(t),i=n+e;r(n,e)||(t.className=i.substring(1))}function l(t,e){var n,i=u(t);r(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function u(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function d(t){t&&t.parentNode&&t.parentNode.removeChild(t)}return t}))},"378a":function(t,e,n){"use strict";n("7254")},"387f":function(t,e,n){"use strict";t.exports=function(t,e,n,i,s){return t.config=e,n&&(t.code=n),t.request=i,t.response=s,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},3934:function(t,e,n){"use strict";var i=n("c532");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=s(window.location.href),function(e){var n=i.isString(e)?s(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,i="/";e.cwd=function(){return i},e.chdir=function(e){t||(t=n("df7c")),i=t.resolve(e,i)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"466d":function(t,e,n){"use strict";var i=n("d784"),s=n("825a"),o=n("50c4"),a=n("577e"),r=n("1d80"),c=n("dc4a"),l=n("8aa5"),u=n("14c3");i("match",(function(t,e,n){return[function(e){var n=r(this),i=void 0==e?void 0:c(e,t);return i?i.call(e,n):new RegExp(e)[t](a(n))},function(t){var i=s(this),r=a(t),c=n(e,i,r);if(c.done)return c.value;if(!i.global)return u(i,r);var d=i.unicode;i.lastIndex=0;var p,m=[],h=0;while(null!==(p=u(i,r))){var f=a(p[0]);m[h]=f,""===f&&(i.lastIndex=l(r,o(i.lastIndex),d)),h++}return 0===h?null:m}]}))},"467f":function(t,e,n){"use strict";var i=n("2d83");t.exports=function(t,e,n){var s=n.config.validateStatus;n.status&&s&&!s(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},"4a0c":function(t){t.exports=JSON.parse('{"_from":"axios","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha1-xnuQ3AVo5cHPKwuFjEO6KOLtpXU=","_location":"/axios","_phantomChildren":{},"_requested":{"type":"tag","registry":true,"raw":"axios","name":"axios","escapedName":"axios","rawSpec":"","saveSpec":null,"fetchSpec":"latest"},"_requiredBy":["#USER","/"],"_resolved":"https://registry.nlark.com/axios/download/axios-0.21.4.tgz?cache=0&sync_timestamp=1630942656836&other_urls=https%3A%2F%2Fregistry.nlark.com%2Faxios%2Fdownload%2Faxios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios","_where":"D:\\\\study\\\\电子签名\\\\sign-demo2","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},"4a7b":function(t,e,n){"use strict";var i=n("c532");t.exports=function(t,e){e=e||{};var n={},s=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],r=["validateStatus"];function c(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function l(s){i.isUndefined(e[s])?i.isUndefined(t[s])||(n[s]=c(void 0,t[s])):n[s]=c(t[s],e[s])}i.forEach(s,(function(t){i.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),i.forEach(o,l),i.forEach(a,(function(s){i.isUndefined(e[s])?i.isUndefined(t[s])||(n[s]=c(void 0,t[s])):n[s]=c(void 0,e[s])})),i.forEach(r,(function(i){i in e?n[i]=c(t[i],e[i]):i in t&&(n[i]=c(void 0,t[i]))}));var u=s.concat(o).concat(a).concat(r),d=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===u.indexOf(t)}));return i.forEach(d,l),n}},"4d63":function(t,e,n){var i=n("83ab"),s=n("da84"),o=n("94ca"),a=n("7156"),r=n("9112"),c=n("9bf2").f,l=n("241c").f,u=n("44e7"),d=n("577e"),p=n("ad6d"),m=n("9f7f"),h=n("6eeb"),f=n("d039"),g=n("5135"),b=n("69f3").enforce,w=n("2626"),v=n("b622"),y=n("fce3"),_=n("107c"),C=v("match"),S=s.RegExp,x=S.prototype,O=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,T=/a/g,k=/a/g,I=new S(T)!==T,j=m.UNSUPPORTED_Y,A=i&&(!I||j||y||_||f((function(){return k[C]=!1,S(T)!=T||S(k)==k||"/a/i"!=S(T,"i")}))),E=function(t){for(var e,n=t.length,i=0,s="",o=!1;i<=n;i++)e=t.charAt(i),"\\"!==e?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),s+=e):s+="[\\s\\S]":s+=e+t.charAt(++i);return s},D=function(t){for(var e,n=t.length,i=0,s="",o=[],a={},r=!1,c=!1,l=0,u="";i<=n;i++){if(e=t.charAt(i),"\\"===e)e+=t.charAt(++i);else if("]"===e)r=!1;else if(!r)switch(!0){case"["===e:r=!0;break;case"("===e:O.test(t.slice(i+1))&&(i+=2,c=!0),s+=e,l++;continue;case">"===e&&c:if(""===u||g(a,u))throw new SyntaxError("Invalid capture group name");a[u]=!0,o.push([u,l]),c=!1,u="";continue}c?u+=e:s+=e}return[s,o]};if(o("RegExp",A)){for(var R=function(t,e){var n,i,s,o,c,l,m=this instanceof R,h=u(t),f=void 0===e,g=[],w=t;if(!m&&h&&f&&t.constructor===R)return t;if((h||t instanceof R)&&(t=t.source,f&&(e="flags"in w?w.flags:p.call(w))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),w=t,y&&"dotAll"in T&&(i=!!e&&e.indexOf("s")>-1,i&&(e=e.replace(/s/g,""))),n=e,j&&"sticky"in T&&(s=!!e&&e.indexOf("y")>-1,s&&(e=e.replace(/y/g,""))),_&&(o=D(t),t=o[0],g=o[1]),c=a(S(t,e),m?this:x,R),(i||s||g.length)&&(l=b(c),i&&(l.dotAll=!0,l.raw=R(E(t),n)),s&&(l.sticky=!0),g.length&&(l.groups=g)),t!==w)try{r(c,"source",""===w?"(?:)":w)}catch(v){}return c},P=function(t){t in R||c(R,t,{configurable:!0,get:function(){return S[t]},set:function(e){S[t]=e}})},N=l(S),W=0;N.length>W;)P(N[W++]);x.constructor=R,R.prototype=x,h(s,"RegExp",R)}w("RegExp")},5270:function(t,e,n){"use strict";var i=n("c532"),s=n("c401"),o=n("2e67"),a=n("2444");function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){r(t),t.headers=t.headers||{},t.data=s.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||a.adapter;return e(t).then((function(e){return r(t),e.data=s.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(r(t),e&&e.response&&(e.response.data=s.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5302:function(t,e,n){"use strict";n("2b29")},5319:function(t,e,n){"use strict";var i=n("d784"),s=n("d039"),o=n("825a"),a=n("1626"),r=n("a691"),c=n("50c4"),l=n("577e"),u=n("1d80"),d=n("8aa5"),p=n("dc4a"),m=n("0cb2"),h=n("14c3"),f=n("b622"),g=f("replace"),b=Math.max,w=Math.min,v=function(t){return void 0===t?t:String(t)},y=function(){return"$0"==="a".replace(/./,"$0")}(),_=function(){return!!/./[g]&&""===/./[g]("a","$0")}(),C=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));i("replace",(function(t,e,n){var i=_?"$":"$0";return[function(t,n){var i=u(this),s=void 0==t?void 0:p(t,g);return s?s.call(t,i,n):e.call(l(i),t,n)},function(t,s){var u=o(this),p=l(t);if("string"===typeof s&&-1===s.indexOf(i)&&-1===s.indexOf("$<")){var f=n(e,u,p,s);if(f.done)return f.value}var g=a(s);g||(s=l(s));var y=u.global;if(y){var _=u.unicode;u.lastIndex=0}var C=[];while(1){var S=h(u,p);if(null===S)break;if(C.push(S),!y)break;var x=l(S[0]);""===x&&(u.lastIndex=d(p,c(u.lastIndex),_))}for(var O="",T=0,k=0;k<C.length;k++){S=C[k];for(var I=l(S[0]),j=b(w(r(S.index),p.length),0),A=[],E=1;E<S.length;E++)A.push(v(S[E]));var D=S.groups;if(g){var R=[I].concat(A,j,p);void 0!==D&&R.push(D);var P=l(s.apply(void 0,R))}else P=m(I,p,j,A,D,s);j>=T&&(O+=p.slice(T,j)+P,T=j+I.length)}return O+p.slice(T)}]}),!C||!y||_)},"5f02":function(t,e,n){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}},"6bb9":function(t,e,n){},7156:function(t,e,n){var i=n("1626"),s=n("861d"),o=n("d2bb");t.exports=function(t,e,n){var a,r;return o&&i(a=e.constructor)&&a!==n&&s(r=a.prototype)&&r!==n.prototype&&o(t,r),t}},7254:function(t,e,n){},"751a":function(t,e,n){"use strict";n("d3b7");var i=n("bc3a"),s=n.n(i),o=n("323e"),a=n.n(o),r=(n("a5d8"),n("5c96"));s.a.defaults.timeout=1e6,console.log(Object({NODE_ENV:"production",VUE_APP_BASE_URL:"http://10.10.21.142:5080",VUE_APP_OCR_HWR:"https://m.95549.cn/HWR/RecvServlet",BASE_URL:""})),console.log("http://10.10.21.142:5080"),s.a.defaults.baseURL="http://10.10.21.142:5080",s.a.defaults.validateStatus=function(t){return t>=200&&t<=500},s.a.defaults.withCredentials=!0,s.a.interceptors.request.use((function(t){return a.a.start(),t}),(function(t){return Promise.reject(t)})),s.a.interceptors.response.use((function(t){a.a.done(),console.log(t);var e=t.data.code||t.status,n=t.data.msg||t.data.error_description||"未知错误";return 200!==e?(r["Message"].error(n),Promise.reject(new Error(n))):t}),(function(t){return Promise.reject(new Error(t))})),e["a"]=s.a},"7a77":function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},"7aac":function(t,e,n){"use strict";var i=n("c532");t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,s,o,a){var r=[];r.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),i.isString(s)&&r.push("path="+s),i.isString(o)&&r.push("domain="+o),!0===a&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"83b9":function(t,e,n){"use strict";var i=n("d925"),s=n("e683");t.exports=function(t,e){return t&&!i(e)?s(t,e):e}},"841c":function(t,e,n){"use strict";var i=n("d784"),s=n("825a"),o=n("1d80"),a=n("129f"),r=n("577e"),c=n("dc4a"),l=n("14c3");i("search",(function(t,e,n){return[function(e){var n=o(this),i=void 0==e?void 0:c(e,t);return i?i.call(e,n):new RegExp(e)[t](r(n))},function(t){var i=s(this),o=r(t),c=n(e,i,o);if(c.done)return c.value;var u=i.lastIndex;a(u,0)||(i.lastIndex=0);var d=l(i,o);return a(i.lastIndex,u)||(i.lastIndex=u),null===d?-1:d.index}]}))},"848b":function(t,e,n){"use strict";var i=n("4a0c"),s={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){s[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={},a=i.version.split(".");function r(t,e){for(var n=e?e.split("."):a,i=t.split("."),s=0;s<3;s++){if(n[s]>i[s])return!0;if(n[s]<i[s])return!1}return!1}function c(t,e,n){if("object"!==typeof t)throw new TypeError("options must be an object");var i=Object.keys(t),s=i.length;while(s-- >0){var o=i[s],a=e[o];if(a){var r=t[o],c=void 0===r||a(r,o,t);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}}s.transitional=function(t,e,n){var s=e&&r(e);function a(t,e){return"[Axios v"+i.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,r){if(!1===t)throw new Error(a(i," has been removed in "+e));return s&&!o[i]&&(o[i]=!0,console.warn(a(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,r)}},t.exports={isOlderVersion:r,assertOptions:c,validators:s}},"857a":function(t,e,n){var i=n("1d80"),s=n("577e"),o=/"/g;t.exports=function(t,e,n,a){var r=s(i(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+s(a).replace(o,"&quot;")+'"'),c+">"+r+"</"+e+">"}},8659:function(t,e,n){},"8df4":function(t,e,n){"use strict";var i=n("7a77");function s(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var t,e=new s((function(e){t=e}));return{token:e,cancel:t}},t.exports=s},"968d":function(t,e,n){"use strict";n.r(e);var i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playerContainer",on:{mousemove:t.onMouseMove}},[n("div",{staticClass:"areaUpTools"},[n("PanoWhiteboard",{directives:[{name:"show",rawName:"v-show",value:t.isWhiteboardOpen,expression:"isWhiteboardOpen"}]})],1)])},o=[],a=n("1da1"),r=n("5530"),c=(n("96cf"),n("d3b7"),n("ac1f"),n("1276"),n("5319"),n("466d"),n("4d63"),n("25f0"),n("841c"),n("2f62")),l=n("4960"),u=n.n(l),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pvcWbWrapper"},[n("div",{ref:"whiteboardWrapper",staticClass:"pvc-whiteboard-rapper"}),t.whiteboardLoaded?n("Toolbar",{attrs:{whiteboard:t.whiteboard}}):t._e(),n("div",{staticClass:"reportBox"},[n("el-button",{on:{click:t.report}},[t._v("报告")])],1)],1)},p=[],m=function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("div",[i("div",{staticClass:"pano-wb-tb"},[i("div",{staticClass:"pano-wb-tb__item pano-withtip ",class:{"pano-wb-tb__item":!0,"pano-withtip":!0,"pano-wb-tb__item--selected":e.insertType===e.Constants.ShapeType.Click},attrs:{"data-tip":"课件交互"},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Click)}}},[i("span",{staticClass:"iconfont icon-click"})]),i("div",{staticClass:"pano-wb-tb__item pano-withtip ",class:{"pano-wb-tb__item":!0,"pano-withtip":!0,"pano-wb-tb__item--selected":e.insertType===e.Constants.ShapeType.Select},attrs:{"data-tip":"选择"},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Select)}}},[i("span",{staticClass:"iconfont icon-move"})]),i("div",{staticClass:"pano-wb-tb__item pano-withtip ",class:{"pano-wb-tb__item":!0,"pano-withtip":!0,"pano-wb-tb__item--selected":e.insertType===e.Constants.ShapeType.Drag},attrs:{"data-tip":"画布拖拽"},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Drag)}}},[i("span",{staticClass:"iconfont icon-hand"})]),i("div",{class:{"pano-withtip":!0,"pano-wb-tb__item":!0,"pano-wb-tb__item--selected":e.insertType===e.Constants.ShapeType.Pen},attrs:{"data-tip":"画笔"},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Pen)}}},[i("span",{staticClass:"iconfont icon-pencil"})]),i("Popover",{attrs:{placement:"right",trigger:"click"}},[i("div",{staticClass:"pano-wb-popup"},[i("div",{staticClass:"pano-wb-popup__item"},[i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":e.insertType===e.Constants.ShapeType.Line},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Line)}}},[i("span",{staticClass:"iconfont icon-minus"})]),i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":e.insertType===e.Constants.ShapeType.Arrow},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Arrow)}}},[i("span",{staticClass:"iconfont icon-arrow-left2"})]),i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":"none"===e.fillType&&e.insertType===e.Constants.ShapeType.Ellipse},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Ellipse)}}},[i("span",{staticClass:"iconfont icon-radio-unchecked"})]),i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":"none"===e.fillType&&e.insertType===e.Constants.ShapeType.Rect},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Rect)}}},[i("span",{staticClass:"iconfont icon-checkbox-unchecked"})])]),i("div",{staticClass:"pano-wb-popup__item"},[i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":"color"===e.fillType&&e.insertType===e.Constants.ShapeType.Ellipse},on:{click:function(t){return e.setSolidToolType(e.Constants.ShapeType.Ellipse)}}},[i("span",{staticClass:"iconfont icon-circle-h"})]),i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":"color"===e.fillType&&e.insertType===e.Constants.ShapeType.Rect},on:{click:function(t){return e.setSolidToolType(e.Constants.ShapeType.Rect)}}},[i("span",{staticClass:"iconfont icon-rect-h"})])])]),i("div",{class:{"pano-withtip":!0,"pano-wb-tb__item":!0,"pano-wb-tb__item--selected":e.insertType===e.Constants.ShapeType.Line||e.insertType===e.Constants.ShapeType.Arrow||e.insertType===e.Constants.ShapeType.Rect||e.insertType===e.Constants.ShapeType.Ellipse},attrs:{slot:"reference","data-tip":"图形"},slot:"reference"},[i("span",{staticClass:"iconfont icon-hollow"}),i("div",{staticClass:"pano-wb-tb__item__triangle"})])]),i("Popover",{attrs:{placement:"right",trigger:"click"}},[i("div",{class:{"pano-wb-tb__item":!0,"pano-withtip":!0,"pano-wb-tb__item--selected":e.insertType===e.Constants.ShapeType.Text},attrs:{slot:"reference","data-tip":"文本"},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.Text)}},slot:"reference"},[i("span",{staticClass:"iconfont icon-text"}),i("div",{staticClass:"pano-wb-tb__item__triangle"})]),i("div",{staticClass:"pano-wb-popup"},[i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":e.bold},on:{click:e.toggleBold}},[i("span",{staticClass:"iconfont icon-bold"})]),i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":e.italic},on:{click:e.toggleItalic}},[i("span",{staticClass:"iconfont icon-italic"})])])]),i("Popover",{attrs:{placement:"right",trigger:"click"}},[i("div",{staticClass:"pano-wb-popup"},[i("div",{staticClass:"pano-wb-popup__item"},[i("span",{staticClass:"pano-wb-popup__item__label"},[e._v("线宽：")]),i("el-slider",{staticStyle:{flex:"1","max-width":"140px"},attrs:{value:e.lineWidth,step:1,min:1,max:20},on:{input:e.setLineWidth}})],1),i("div",{staticClass:"pano-wb-popup__item"},[i("span",{staticClass:"pano-wb-popup__item__label"},[e._v("字号：")]),i("el-slider",{staticStyle:{flex:"1","max-width":"140px"},attrs:{step:2,min:12,max:60,value:e.fontSize},on:{input:e.setFontSize}})],1),i("div",{staticClass:"pano-wb-popup__item"},e._l(e.colors,(function(t){return i("div",{key:t,staticClass:"pano-wb-popup__item__colors",on:{click:function(n){return e.selectColor(t)}}},[i("div",{class:{"pano-wb-popup__item__colors__color-dot":!0,"pano-wb-popup__item__colors__color-dot--selected":e.selectedColor===t},style:{backgroundColor:t}})])})),0)]),i("div",{staticClass:"pano-wb-tb__item pano-withtip",attrs:{slot:"reference","data-tip":"工具箱"},slot:"reference"},[i("span",{staticClass:"iconfont icon-tools"}),i("div",{staticClass:"pano-wb-tb__item__color-dot",style:{backgroundColor:e.selectedColor}})])]),i("Popover",{attrs:{placement:"right",trigger:"click"}},[i("div",{staticClass:"wb-img-inputs-wrapper"},[i("div",{staticClass:"wb-img-wrapper"},[i("div",{staticClass:"wb-img-wrapper__input-wrapper",style:{flexWrap:"wrap"}},[i("div",{staticClass:"wb-img-wrapper__header"},[e._v("媒体元素")]),i("Button",{style:{marginTop:"5px"},attrs:{shape:"round",size:"mini"},on:{click:e.uploadImage}},[e._v(" 上传图片 ")]),i("Button",{style:{marginTop:"5px"},attrs:{shape:"round",size:"mini"},on:{click:e.uploadVideo}},[e._v(" 上传视频 ")]),i("Button",{style:{marginTop:"5px"},attrs:{shape:"round",size:"mini"},on:{click:e.uploadAudio}},[e._v(" 上传音频 ")])],1),i("div",{staticClass:"wb-img-wrapper__divider"}),i("div",{staticClass:"wb-img-wrapper__input-wrapper"},[i("div",{staticClass:"wb-img-wrapper__header"},[e._v("背景图片")])]),i("div",{staticClass:"wb-img-wrapper__input-wrapper"},[i("span",{staticClass:"wb-img-wrapper__label"},[e._v("背景图缩放模式")]),i("label",[i("input",{attrs:{type:"radio",name:"fillMode"},domProps:{value:e.Constants.WBImageScalingMode.Fit,checked:e.imgScaleMode===e.Constants.WBImageScalingMode.Fit},on:{change:function(){t.imgScaleMode=e.Constants.WBImageScalingMode.Fit,t.whiteboard.setBackgroundImageScalingMode(e.Constants.WBImageScalingMode.Fit)}}}),e._v(" 自适应居中 ")]),i("label",[i("input",{attrs:{type:"radio",name:"fillMode"},domProps:{value:e.Constants.WBImageScalingMode.FillWidth,checked:e.imgScaleMode===e.Constants.WBImageScalingMode.FillWidth},on:{change:function(t){return e.setScalingMode(e.Constants.WBImageScalingMode.FillWidth)}}}),e._v(" 宽度满屏 ")]),i("label",[i("input",{attrs:{type:"radio",name:"fillMode"},domProps:{value:e.Constants.WBImageScalingMode.FillHeight,checked:e.imgScaleMode===e.Constants.WBImageScalingMode.FillHeight},on:{change:function(t){return e.setScalingMode(e.Constants.WBImageScalingMode.FillHeight)}}}),e._v(" 高度满屏 ")])]),i("div",{staticClass:"wb-img-wrapper__input-wrapper"},[i("span",{staticClass:"wb-img-wrapper__label"},[e._v("图片Url")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.imgUrl,expression:"imgUrl"}],attrs:{type:"text"},domProps:{value:e.imgUrl},on:{input:function(t){t.target.composing||(e.imgUrl=t.target.value)}}}),i("Button",{style:{marginLeft:"5px"},attrs:{shape:"round",size:"mini"},on:{click:e.setBackgroundImageUrl}},[e._v(" 设为背景 ")])],1),i("div",{staticClass:"wb-img-wrapper__input-wrapper",style:{marginTop:"5px"}},[i("Button",{attrs:{shape:"round",size:"mini"},on:{click:e.upLoadBgImage}},[e._v(" 本地上传 ")])],1)]),i("div",{staticClass:"wb-img-wrapper"},[i("div",{staticClass:"wb-img-wrapper__input-wrapper"},[i("span",{staticClass:"wb-img-wrapper__label"},[e._v("图片Url列表")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.imgUrlList,expression:"imgUrlList"}],staticClass:"wb-img-wrapper__urls-input",attrs:{type:"text",placeholder:"url以空格隔开"},domProps:{value:e.imgUrlList},on:{input:function(t){t.target.composing||(e.imgUrlList=t.target.value)}}})]),i("div",{staticClass:"wb-img-wrapper__input-wrapper"},[i("span",{staticClass:"wb-img-wrapper__label"},[e._v("添加到当前文档")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.bAddToCurrentDoc,expression:"bAddToCurrentDoc"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.bAddToCurrentDoc)?e._i(e.bAddToCurrentDoc,null)>-1:e.bAddToCurrentDoc},on:{change:function(t){var n=e.bAddToCurrentDoc,i=t.target,s=!!i.checked;if(Array.isArray(n)){var o=null,a=e._i(n,o);i.checked?a<0&&(e.bAddToCurrentDoc=n.concat([o])):a>-1&&(e.bAddToCurrentDoc=n.slice(0,a).concat(n.slice(a+1)))}else e.bAddToCurrentDoc=s}}}),i("Button",{style:{marginLeft:"10px"},attrs:{shape:"round",size:"mini"},on:{click:e.addImagBgList}},[e._v(" 添加到白板 ")])],1)])]),i("div",{staticClass:"pano-wb-tb__item pano-withtip",attrs:{slot:"reference","data-tip":"上传图片"},slot:"reference"},[i("span",{staticClass:"iconfont icon-images"}),i("div",{staticClass:"pano-wb-tb__item__triangle"})])]),i("Popover",{attrs:{placement:"right",trigger:"click"}},[i("div",{staticClass:"pano-wb-popup"},[i("div",{staticClass:"pano-wb-popup__item"},[i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":e.insertType===e.Constants.ShapeType.Eraser},on:{click:function(){t.whiteboard.setToolType(e.Constants.ShapeType.Eraser),t.insertType=e.Constants.ShapeType.Eraser}}},[i("span",{staticClass:"iconfont icon-eraser"})]),i("div",{class:{"pano-wb-popup__item__select":!0,"pano-wb-popup__item__select--selected":e.insertType===e.Constants.ShapeType.Delete},on:{click:function(){t.whiteboard.setToolType(e.Constants.ShapeType.Delete),t.insertType=e.Constants.ShapeType.Delete}}},[i("span",{staticClass:"iconfont icon-delete"})])]),i("div",{staticClass:"pano-wb-popup__item delete-btn-group"},[i("Button",{staticClass:"pano-wb-popup__item__delete-btn",attrs:{size:"small",type:"text",disabled:!e.isAdmin},on:{click:e.clearAll}},[e._v(" 清除所有内容 ")]),i("Button",{staticClass:"pano-wb-popup__item__delete-btn",attrs:{type:"text",size:"small",disabled:!e.isAdmin},on:{click:e.clearCurrentPage}},[e._v(" 清除当前页 ")]),i("Button",{staticClass:"pano-wb-popup__item__delete-btn",attrs:{type:"text",size:"small"},on:{click:e.clearMyDraws}},[e._v(" 清除我的内容 ")]),i("Button",{staticClass:"pano-wb-popup__item__delete-btn",attrs:{type:"text",size:"small"},on:{click:e.clearMyBg}},[e._v(" 清除我的背景图 ")])],1)]),i("div",{staticClass:"pano-wb-tb__item pano-withtip",attrs:{slot:"reference","data-tip":"橡皮擦"},slot:"reference"},[i("span",{staticClass:"iconfont icon-eraser"}),i("div",{staticClass:"pano-wb-tb__item__triangle"})])]),i("div",{class:{"pano-wb-tb__item":!0,"pano-withtip":!0,"pano-wb-tb__item--selected":e.insertType===e.Constants.ShapeType.LaserPointer},attrs:{"data-tip":"激光笔"},on:{click:function(t){return e.setToolType(e.Constants.ShapeType.LaserPointer)}}},[i("span",{staticClass:"iconfont icon-laser-pointer",staticStyle:{"font-size":"20px"}})]),i("div",{staticClass:"pano-wb-tb__item pano-withtip",attrs:{"data-tip":"撤销"},on:{click:e.undo}},[i("span",{staticClass:"iconfont icon-undo"})]),i("div",{staticClass:"pano-wb-tb__item pano-withtip",attrs:{"data-tip":"重做"},on:{click:e.redo}},[i("span",{staticClass:"iconfont icon-redo"})]),i("Popover",{attrs:{placement:"right",trigger:"click"}},[i("div",{staticClass:"pano-wb-popup"},[i("el-button",{style:{display:"block",marginBottom:"5px"},attrs:{size:"small",loading:e.snapshotingAll},on:{click:e.snapshotAll}},[e._v(" 截取全部内容 ")]),i("el-button",{style:{display:"block",marginLeft:0},attrs:{size:"small",loading:e.snapshotingView},on:{click:e.snapshotView}},[e._v(" 仅截取可见区域 ")])],1),i("div",{staticClass:"pano-wb-tb__item pano-withtip",attrs:{slot:"reference","data-tip":"截图"},slot:"reference"},[i("span",{staticClass:"iconfont icon-instagram"})])]),i("Popover",{attrs:{placement:"right",trigger:"click"}},[i("div",{staticClass:"toolbar-instruction"},[i("div",{staticClass:"toolbar-instruction__item"},[i("div",{staticClass:"toolbar-instruction__item-title"},[e._v(" 设置样式： ")]),i("div",{staticClass:"toolbar-instruction__item-conetnt"},[e._v(" 单选中图形时，修改只对当前选中的图形生效； "),i("br"),e._v(" 没有选中图形时，修改全局样式，对接下来新绘制图形生效; ")])]),i("div",{staticClass:"toolbar-instruction__item"},[i("div",{staticClass:"toolbar-instruction__item-title"},[e._v(" 缩放画板： ")]),i("div",{staticClass:"toolbar-instruction__item-conetnt"},[e._v(" 使用鼠标滚轮滚动，或者在触摸板上双指向上下推动 ")])]),i("div",{staticClass:"toolbar-instruction__item"},[i("div",{staticClass:"toolbar-instruction__item-title"},[e._v(" 拖动画板： ")]),i("div",{staticClass:"toolbar-instruction__item-conetnt"},[e._v(" 使用鼠标右键按住拖拽，或在触摸板上双指按下后拖动 ")])]),i("div",{staticClass:"toolbar-instruction__item"},[i("div",{staticClass:"toolbar-instruction__item-title"},[e._v(" 文档转码： ")]),i("div",{staticClass:"toolbar-instruction__item-conetnt"},[e._v(" 点击左上角导入文档按钮，支持 .docx, .xlsx, .pptx, .doc, .xls, .ppt, .pdf 等格式文件，转码成功后会自动跳转到文档 ")])])]),i("div",{staticClass:"pano-wb-tb__item pano-withtip",attrs:{slot:"reference","data-tip":"提示"},slot:"reference"},[i("span",{staticClass:"iconfont icon-info"})])])],1),e.uploading?i("div",{staticClass:"wb-upload-progress"},[i("div",{staticClass:"wb-upload-progress__loaded",style:{width:100*e.uploadProgress+"%"}})]):e._e(),i("div",{staticClass:"pano-wb-pages pano-wb-tools"},[i("div",{staticClass:"pano-wb-pages__wrapper"},[e.thumbUrls.length?i("button",{staticClass:"pano-withtip pano-withtip-top pano-wb-pages__btn",style:{paddingRight:"6px"},attrs:{"data-tip":"课件预览"},on:{click:function(t){return e.setDrawerVisible(!0)}}},[i("span",{staticClass:"iconfont icon-files-empty",style:{fontSize:"14px"}})]):e._e(),i("button",{staticClass:"pano-withtip pano-withtip-top pano-wb-pages__btn",style:{paddingLeft:"6px"},attrs:{"data-tip":"前一页"},on:{click:function(t){return e.updatePageIndex(e.pageIndex-1)}}},[i("span",{staticClass:"iconfont icon-angle-double-left",style:{fontSize:"16px"}})]),i("div",{staticClass:"pano-wb-pages__page-count"},[e._v(" "+e._s(e.pageIndex+1+" / "+e.pageCount)+" ")]),i("button",{staticClass:"pano-withtip pano-withtip-top pano-wb-pages__btn",attrs:{"data-tip":"后一页"},on:{click:function(t){return e.updatePageIndex(e.pageIndex+1)}}},[i("span",{staticClass:"iconfont icon-angle-double-right",style:{fontSize:"16px"}})]),"default"===e.activeDocId?i("button",{staticClass:"pano-withtip pano-withtip-top pano-wb-pages__btn",attrs:{"data-tip":"填加一页"},on:{click:e.addPage}},[i("span",{staticClass:"iconfont icon-plus",style:{fontSize:"10px"}})]):e._e(),"default"===e.activeDocId?i("button",{staticClass:"pano-withtip pano-withtip-top pano-wb-pages__btn",attrs:{"data-tip":"删除当前页"},on:{click:e.removePage}},[i("span",{staticClass:"iconfont icon-minus",style:{fontSize:"10px"}})]):e._e(),i("Popover",{staticStyle:{"min-width":"40px"},attrs:{placement:"top",trigger:"click"}},[i("div",{staticClass:"pano-wb-pages__zoom-rate",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(Math.round(100*e.scale))+"% ")]),i("div",{style:{height:"120px"}},[i("el-slider",{attrs:{min:10,max:500,vertical:"",tooltipVisible:"",value:100*e.scale,height:"120px"},on:{input:e.updateScaleFromSlider}})],1)]),i("button",{staticClass:"pano-withtip pano-withtip-top pano-wb-pages__btn",attrs:{"data-tip":"重置缩放和画板位置"},on:{click:e.resetScale}},[i("span",{staticClass:"iconfont icon-reset",style:{fontSize:"10px"}})])],1)]),e.drawerVisible?i("div",{staticClass:"wb-courseware-alide-mask",on:{click:function(t){return e.setDrawerVisible(!1)}}}):e._e(),e.thumbUrls.length?i("aside",{class:{"wb-courseware-alide":!0,"wb-courseware-alide__hiden":!e.drawerVisible}},[i("header",[i("span",[e._v("课件预览")]),i("i",{staticClass:"iconfont icon-close",style:{fontSize:"14px"},on:{click:function(t){return e.setDrawerVisible(!1)}}})]),i("div",{staticClass:"wb-courseware-list"},e._l(e.thumbUrls,(function(t,n){return i("div",{key:t,staticClass:"courseware-preview"},[i("img",{class:{"courseware-preview__active":e.pageIndex===n},attrs:{src:t,alt:"thumbnail"},on:{click:function(t){return e.updatePageIndex(n)}}}),i("div",{staticClass:"courseware-index"},[i("span",[e._v(e._s(n+1))])])])})),0)]):e._e()])},h=[],f=(n("cc71"),n("c5d0"),n("b0c0"),n("d81d"),n("fb6a"),n("ec41")),g=n("5c96"),b=n("7659"),w=u.a.RtcWhiteboard,v=u.a.Constants,y=["RGBA(220, 85, 76, 1.00)","RGBA(238, 155, 78, 1.00)","RGBA(250, 230, 115, 1.00)","RGBA(153, 190, 103, 1.00)","RGBA(84, 170, 233, 1.00)","RGBA(69, 89, 170, 1.00)","RGBA(141, 65, 165, 1.00)","RGBA(239, 161, 157, 1.00)","RGBA(255, 255, 255, 1.00)","RGBA(155, 155, 153, 1.00)","RGBA(81, 84, 91, 1.00)","RGBA(0, 0, 0, 1.00)"],_={data:function(){return{Constants:v,colors:y,imgUrl:"https://developer.pano.video/download/example.jpeg",imgScaleMode:v.WBImageScalingMode.Fit,fontSize:this.whiteboard.fontSize,bold:this.whiteboard.bold,italic:this.whiteboard.italic,scale:this.whiteboard.scale,pageCount:this.whiteboard.getTotalNumberOfPages(),pageIndex:this.whiteboard.getCurrentPageNumber(),lineWidth:this.whiteboard.lineWidth,selectedColor:this.whiteboard.strokeStyle,insertType:this.whiteboard.getToolType(),fillType:this.whiteboard.fillType,docs:this.whiteboard.enumerateDocs(),activeDocId:this.whiteboard.activeDocId,activeDoc:this.whiteboard.activeDoc,imgUrlList:"",bAddToCurrentDoc:!1,uploadProgress:0,uploading:!1,snapshotingView:!1,snapshotingAll:!1,drawerVisible:!1,isSharingVision:!1,followVision:!1,followVisionUser:{userId:"",name:""},visionFollowPopVisible:!1,isWhiteboardHidden:!1}},props:{whiteboard:{type:Object,required:!0}},components:{Popover:g["Popover"],Button:g["Button"]},computed:Object(r["a"])(Object(r["a"])({},Object(c["b"])(["userMe","wbAdminUser"])),{},{isAdmin:function(){return this.userMe!==this.wbAdminUser},thumbUrls:function(){return this.activeDoc.courseware.thumbUrls||[]}}),methods:{toggleHidden:function(){this.isWhiteboardHidden?this.whiteboard.showWhiteboard():this.whiteboard.hideWhiteboard(),this.isWhiteboardHidden=!this.isWhiteboardHidden},toggleVisionFllowing:function(){this.followVision?(this.whiteboard.stopFollowVision(),this.followVision=!1,this.visionFollowPopVisible=!1):(this.whiteboard.startFollowVision(),this.followVision=!0)},confirmFllowVision:function(){this.whiteboard.startFollowVision(),this.followVision=!0,this.visionFollowPopVisible=!1},rejectFllowVision:function(){this.visionFollowPopVisible=!1},center:function(){this.whiteboard.center()},toggleVisionSharing:function(){this.isSharingVision?(this.whiteboard.stopVisionShare(),this.$message.success("您已停止视角分享")):(this.$message.success("其他用户将收到您的视角跟随邀请"),this.followVision=!1,this.followVisionUser={userId:"",name:""},this.whiteboard.startVisionShare()),this.isSharingVision=!this.isSharingVision},setDrawerVisible:function(t){this.drawerVisible=t},applyForWbAdmin:function(){Object(b["a"])()},getDataFromWhiteboard:function(){this.selectedColor=Object(f["a"])(this.whiteboard.selectedShape,"shapeStyle.strokeStyle",this.whiteboard.strokeStyle),this.lineWidth=Object(f["a"])(this.whiteboard.selectedShape,"shapeStyle.lineWidth",this.whiteboard.lineWidth),this.bold=Object(f["a"])(this.whiteboard.selectedShape,"fontStyle.bold",this.whiteboard.bold),this.italic=Object(f["a"])(this.whiteboard.selectedShape,"fontStyle.italic",this.whiteboard.italic),this.fontSize=Object(f["a"])(this.whiteboard.selectedShape,"fontStyle.fontSize",this.whiteboard.fontSize),this.fillType=Object(f["a"])(this.whiteboard.selectedShape,"shapeStyle.fillType",this.whiteboard.fillType),this.scale=this.whiteboard.scale,this.pageCount=this.whiteboard.getTotalNumberOfPages(),this.pageIndex=this.whiteboard.getCurrentPageNumber(),this.insertType=this.whiteboard.getToolType()},onDocChanged:function(){this.activeDocId!==this.whiteboard.activeDocId&&(this.activeDocId=this.whiteboard.activeDocId,this.$message.info("已切换到".concat(this.whiteboard.activeDoc.name||this.whiteboard.activeDoc.docId))),this.docs=this.whiteboard.enumerateDocs().map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{name:Object(f["a"])((t.name||"").split("."),0)||t.docId.toString().slice(-6)})})),this.activeDoc=this.whiteboard.activeDoc},checkIsAdmin:function(){return this.userMe===this.wbAdminUser||(this.$message.info("该操作需要演示人权限，请点击右上角申请成为演示人"),!1)},snapshotAll:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.snapshotingAll=!0,e.next=3,t.whiteboard.snapshot(!0,"all");case 3:t.snapshotingAll=!1;case 4:case"end":return e.stop()}}),e)})))()},snapshotView:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.snapshotingView=!0,e.next=3,t.whiteboard.snapshot(!0,"view");case 3:t.snapshotingView=!1;case 4:case"end":return e.stop()}}),e)})))()},toggleItalic:function(){this.whiteboard.selectedShape?this.whiteboard.setSelectedShapeFontStyle({italic:!this.italic}):this.whiteboard.italic=!this.italic,this.italic=!this.italic},toggleBold:function(){this.whiteboard.selectedShape?this.whiteboard.setSelectedShapeFontStyle({bold:!this.bold}):this.whiteboard.bold=!this.bold,this.bold=!this.bold},setToolType:function(t){this.whiteboard.setToolType(t),this.insertType=t,this.fillType="none",this.whiteboard.fillType="none"},setSolidToolType:function(t){this.whiteboard.setToolType(t),this.insertType=t,this.fillType="color",this.whiteboard.fillType="color"},switchDoc:function(t){this.checkIsAdmin()&&this.whiteboard.switchToDoc(t)},deleteDoc:function(t){this.checkIsAdmin()&&this.whiteboard.deleteDoc(t)},addImagBgList:function(){this.checkIsAdmin()&&this.whiteboard.addBackgroundImages(this.imgUrlList.split(" "),this.bAddToCurrentDoc)},setLineWidth:function(t){this.whiteboard.selectedShape?this.whiteboard.setSelectedShapeStyle({lineWidth:t}):this.whiteboard.lineWidth=t,this.lineWidth=t},setFontSize:function(t){this.whiteboard.selectedShape?this.whiteboard.setSelectedShapeFontStyle({fontSize:t}):this.whiteboard.fontSize=t,this.fontSize=t},uploadFileAndTranscode:function(t){var e=this;if(this.checkIsAdmin()){var n=function(t){switch(t.code){case 1:e.$message.info("正在转码..."),e.uploading=!1,e.uploadProgress=0;break;case 2:break;case 3:e.uploading=!1,e.uploadProgress=0,e.$message.success("转码成功");break;case 4:t.uploadProgress.loaded===t.uploadProgress.total&&e.$message.success("文件上传成功，等待转码"),e.uploading=t.uploadProgress.loaded!==t.uploadProgress.total,e.uploadProgress=t.uploadProgress.loaded/t.uploadProgress.total;break;case 0:break;case-1:e.uploading=!1,e.uploadProgress=0,e.$message.error("文件过大，最大支持40M");break;case-2:e.uploading=!1,e.uploadProgress=0,e.$message.error("文件上传失败，请重试");break;case-3:e.uploading=!1,e.uploadProgress=0,e.$message.error("文件转码失败，请重试");break;default:break}};this.whiteboard.uploadDoc(n,"doc"===t?"doc":"courseware","courseware"===t)}},updatePageIndex:function(t){this.checkIsAdmin()&&(t<0||t>=this.whiteboard.getTotalNumberOfPages()||this.whiteboard.gotoPage(t))},addPage:function(){this.checkIsAdmin()&&this.whiteboard.addPage()},removePage:function(){this.checkIsAdmin()&&this.whiteboard.removePage()},resetScale:function(){this.updateScale(1),this.whiteboard.setTranslate(0,0)},updateScaleFromSlider:function(t){this.updateScale(t/100)},updateScale:function(t){try{t>.1&&t<5&&(this.whiteboard.setScale(t),this.scale=t)}catch(e){}},uploadImage:function(){var t=this;this.whiteboard.uploadImage((function(e){1===e.code?console.log("上传成功!"):2===e.code?console.log("已上传".concat(e.uploadProgress.loaded/e.uploadProgress.total*100,"%")):t.$message.error("上传失败")}),!1)},uploadAudio:function(){var t=this;this.whiteboard.uploadAudio((function(e){1===e.code?console.log("upload success!"):2===e.code?console.log("audio upload ".concat(e.uploadProgress.loaded/e.uploadProgress.total*100,"%")):t.$message.error("audio upload failed!")}),!1)},uploadVideo:function(){var t=this;this.whiteboard.uploadVideo((function(e){1===e.code?console.log("video upload!"):2===e.code?console.log("video upload ".concat(e.uploadProgress.loaded/e.uploadProgress.total*100,"%")):t.$message.error("video upload failed!")}),!1)},selectColor:function(t){this.whiteboard.selectedShape?this.whiteboard.setSelectedShapeStyle({strokeStyle:t,fillStyle:t}):(this.whiteboard.strokeStyle=t,this.whiteboard.fillStyle=t),this.selectedColor=t},undo:function(){this.whiteboard.undo()},redo:function(){this.whiteboard.redo()},upLoadBgImage:function(){var t=this;this.checkIsAdmin()&&this.whiteboard.uploadImage((function(e){1===e.code?console.log("上传成功!"):2===e.code?console.log("已上传".concat(e.uploadProgress.loaded/e.uploadProgress.total*100,"%")):t.$message.error("上传失败")}))},setScalingMode:function(t){this.imgScaleMode=t,this.whiteboard.setBackgroundImageScalingMode(t)},setBackgroundImageUrl:function(){this.checkIsAdmin()&&this.imgUrl&&this.whiteboard.setBackgroundImage(this.imgUrl)},clearAll:function(){this.checkIsAdmin()&&this.whiteboard.clearContents(!1,v.WBClearType.All)},clearCurrentPage:function(){this.checkIsAdmin()&&this.whiteboard.clearContents(!0,v.WBClearType.All)},clearMyDraws:function(){this.whiteboard.clearUserContents(this.userMe.userId,!1,v.WBClearType.DRAWS)},clearMyBg:function(){this.whiteboard.clearUserContents(this.userMe.userId,!1,v.WBClearType.BACKGROUND_IMAGE)}},mounted:function(){var t=this;this.whiteboard.on(w.Events.whiteboardContentUpdate,this.getDataFromWhiteboard),this.whiteboard.on(w.Events.docCreated,this.onDocChanged),this.whiteboard.on(w.Events.docSwitched,this.onDocChanged),this.whiteboard.on(w.Events.docDeleted,this.onDocChanged),this.whiteboard.on(w.Events.docUpdated,this.onDocChanged),this.whiteboard.on(w.Events.userVisionFollowStart,(function(e,n){console.log("userVisionFollowStart event received"),t.isSharingVision&&(t.isSharingVision=!1,t.$message.info("".concat(n||e,"正在分享视角，您的视角分享已自动取消"))),t.followVision?(t.followVisionUser={name:n,userId:e},t.$message.info("".concat(n||e,"正在分享视角"))):(t.followVisionUser={name:n,userId:e},t.visionFollowPopVisible=!0)})),this.whiteboard.on(w.Events.userVisionFollowStop,(function(e,n){console.log("onUserVisionFollowStop",e,n),e===t.followVisionUser.userId&&(t.isSharingVision||t.$message.info("".concat(t.followVisionUser.name||t.followVisionUser.userId,"已经停止视角分享")),t.followVision=!1,t.followVisionUser={name:"",userId:""},t.visionFollowPopVisible=!1)})),this.onDocChanged()},beforeDestroy:function(){this.whiteboard.batchOff([w.Events.whiteboardContentUpdate,w.Events.docCreated,w.Events.docSwitched,w.Events.docDeleted,w.Events.docUpdated,w.Events.userVisionFollowStart,w.Events.userVisionFollowStop])}},C=_,S=(n("167b"),n("2877")),x=Object(S["a"])(C,m,h,!1,null,null,null),O=x.exports,T={data:function(){return{whiteboard:window.rtcWhiteboard,whiteboardLoaded:!1}},computed:Object(r["a"])({},Object(c["b"])(["isWhiteboardOpen"])),watch:{isWhiteboardOpen:function(){this.isWhiteboardOpen&&!this.whiteboardLoaded&&this.initWhiteboard()}},components:{Toolbar:O},methods:{report:function(){try{rtcWhiteboard.sendFeedback({product:"元核云测试",description:"元核云测试",type:3,contact:"villeewang",uploadLogs:!0,extraInfo:""})}catch(t){console.error(t),this.$message.warning(JSON.stringify(t))}},initWhiteboard:function(){var t=this;this.whiteboard=window.rtcWhiteboard,this.whiteboardLoaded=!0,this.$nextTick((function(){window.rtcWhiteboard.open(t.$refs.whiteboardWrapper),setTimeout((function(){window.rtcWhiteboard.updateCanvasSize()}),1e3)}))}},mounted:function(){this.isWhiteboardOpen&&!this.whiteboardLoaded&&this.initWhiteboard()},beforeDestroy:function(){this.whiteboardLoaded=!1}},k=T,I=(n("378a"),Object(S["a"])(k,d,p,!1,null,"b855562a",null)),j=I.exports,A=n("dbdf"),E=n("5a50"),D=new Uint8Array(16);function R(){if(!i&&(i="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(D)}var P=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function N(t){return"string"===typeof t&&P.test(t)}for(var W=N,U=[],M=0;M<256;++M)U.push((M+256).toString(16).substr(1));function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(U[t[e+0]]+U[t[e+1]]+U[t[e+2]]+U[t[e+3]]+"-"+U[t[e+4]]+U[t[e+5]]+"-"+U[t[e+6]]+U[t[e+7]]+"-"+U[t[e+8]]+U[t[e+9]]+"-"+U[t[e+10]]+U[t[e+11]]+U[t[e+12]]+U[t[e+13]]+U[t[e+14]]+U[t[e+15]]).toLowerCase();if(!W(n))throw TypeError("Stringified UUID is invalid");return n}var V=B;function L(t,e,n){t=t||{};var i=t.random||(t.rng||R)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=i[s];return e}return V(i)}var F=L,$=(n("99af"),n("751a")),z=function(t){return Object($["a"])({url:"/csc/api/pano/getToken/".concat(t.channelId,"/").concat(t.userId),methods:"get"})},K={name:"Meeting",data:function(){return{showToolbar:!1,isMouseOnToolbar:!1,hideToolbarTimer:"",closeConfirmVisible:!1}},components:{PanoWhiteboard:j},computed:Object(r["a"])({},Object(c["b"])(["isWhiteboardOpen","userMe","whiteboardUpdated","wbAdminUser","meetingStatus","meetingEndReason","videoPorfile","whiteboardAvailable"])),watch:{videoPorfile:function(){if(!this.userMe.videoMuted){var t=window.rtcEngine.startVideo(this.videoPorfile);console.log("startVideo with new profile type",this.videoPorfile,t)}},meetingStatus:function(){switch(this.meetingStatus){case"ended":this.$alert("您已离开会议，因为".concat(this.meetingEndReason),"提示").then(this.leaveChannel).catch(this.leaveChannel);break;case"countdownover":this.$alert("会议时间已用完，会议已结束","提示").then(this.leaveChannel).catch(this.leaveChannel);break;case"reconnecting":this.$message.info("已从服务器断开，正在重连...");break;case"disconnected":this.$confirm("无法连接到服务器，已离开会议，请尝试重新加入会议","提示").then(this.leaveChannel).catch(this.leaveChannel);break;case"connected":this.$message.success("会议重连成功");break;default:break}}},methods:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["updateUser","setWhiteboardOpenState","resetUserStore","resetMeetingStore","setSettingVisible","setAppId","setPanoToken","setChannelId","updateUserMe","setMeetingStatus"])),{},{openWhiteBoard:function(){var t=this,e=this.form,n=e.channelId,i=e.userName,s=e.appId,o=e.userId,a=e.token;window.rtcWhiteboard.joinChannel({appId:s,token:a,channelId:n,name:i,userId:o},(function(){console.log("panorts whiteboard join seccess!"),t.onJoinChannelSuccess(),t.onClickWhiteboard()}),(function(e){window.rtcEngine.leaveChannel(),console.log("panorts whiteboard join failed",e),t.onJoinChannelFailed("PanoRts服务连接失败: ".concat(Object(l["statusCodeToQResult"])(e)))}))},getToken:function(t,e){return new Promise((function(n,i){z({channelId:t,userId:e}).then((function(t){console.log(t),0==t.data.code&&n(t.data.content.token)})).catch((function(t){console.error(t)}))}))},joinChannel:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,i,s,o,a,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="12345678",i=F().split("-")[0],s="a632a1053992479a9ac5f673fb96c713",o=parseInt(1e5*Math.random())+"",e.next=3,t.isMobile();case 3:if(a=e.sent,r="",a?(t.$message("用的token1"),r="01000003RThyRHhYSWaMbqHJFxZGIjSEfU3v8LliX/Y3o+Y2A6iGkJeLP5BR7ruUUSstt1wFt7cY/xwvtu9gZVgWbkfh7MnSjSS6EAYz4EcMXmy7cb0lCWl3BflrulK7NnOOSHqHPn4A73CFUIYNtcDpgH2t34iHyb4/1shjib6cNUlK//JAH32ajqH++C3Hva+mblt9XOXejq07WDXgo7Go5QwzGWEoXr3OfEtk/J7zmC3DvPjQxd/j02VD/HIY7sQSNUShUcta3K11nqhtFAgSp4W/ZbjfenMiF2Ej"):(t.$message("用的token2"),r="01000003U01yTWRUS0tb3u3tuElX5920SyoGhgSCehw+WlU2KUOM37lCmJfvGF/1BG0hlPCKgI5JDnEW4NEj1GIQGPTJeLUdW9MVtuqZznmyUVeBI2raG9Z0tKTGj4ArArw+uAWY9J5WULvzQbrIefaDaNEV59aWUbiUVgyQ+0/XaSh2q+GRlIhFMokIQVPlhFNKYaK9uATj7ymVEgQrV9+TFg0qjHtUVk0v7PBzeGTOu4gWJEyR2j9AGTTvibkcMMRS2YUOlx/WNhQO+/E6gd19zx6CRZny9M6EZFNa"),console.log(r),t.form={channelId:n,userName:i,appId:s,userId:o,token:r},n&&s&&o&&r){e.next=11;break}return t.$message.warning("请填写必要的参数再加入会议"),e.abrupt("return");case 11:localStorage.setItem(E["d"],s),localStorage.setItem(E["k"],r),localStorage.setItem(E["e"],n),localStorage.setItem(E["m"],i),localStorage.setItem(E["l"],o),t.setAppId(s),t.setPanoToken(r),t.setChannelId(n),t.updateUserMe({userName:i,userId:o}),console.log("joinChannel..."),c=window.rtcEngine.joinChannel({appId:s,token:r,channelId:n,channelMode:E["a"].Mode_Meeting,userId:o,userName:i},{joinChannelType:u.a.Constants.JoinChannelType.mediaOnly}),console.log(c),"OK"!=c.code&&(console.error("call joinChannel API error:",c),t.$message.error("call joinChannel API error, please check console message.")),t.resetMeetingStore(),setTimeout((function(){t.openWhiteBoard()}),500);case 26:case"end":return e.stop()}}),e)})))()},onJoinChannelConfirm:function(t){var e=this;if("success"===t.result){console.log("rtcEngine 入会成功");var n=this.form,i=n.channelId,s=n.userName,o=n.appId,a=n.userId,r=n.token;window.rtcWhiteboard.joinChannel({appId:o,token:r,channelId:i,name:s,userId:a},(function(){console.log("panorts whiteboard join seccess!"),e.onJoinChannelSuccess()}),(function(t){window.rtcEngine.leaveChannel(),console.log("panorts whiteboard join failed",t),e.onJoinChannelFailed("PanoRts服务连接失败: ".concat(Object(l["statusCodeToQResult"])(t)))}))}else this.onJoinChannelFailed("PanoRtc服务连接失败：".concat(t.message))},onJoinChannelSuccess:function(){this.loading=!1;var t=this.form,e=t.audioOn,n=t.videoOn;localStorage.setItem(E["g"],e?"no":"yes"),localStorage.setItem(E["f"],n?"no":"yes"),this.setMeetingStatus("connected")},onJoinChannelFailed:function(t){this.loading=!1,this.$message.error(t)},onMouseMove:function(){var t=this;this.showToolbar=!0,clearTimeout(this.hideToolbarTimer),this.hideToolbarTimer=setTimeout((function(){t.showToolbar=!1}),2e3)},onMouseEnterMenu:function(){this.isMouseOnToolbar=!0},onMouseLeaveMenu:function(){this.isMouseOnToolbar=!1},checkEnableOpenAudio:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(A["a"])();case 2:if(n=e.sent,n){e.next=6;break}return t.$message.info("没有检测到麦克风"),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})))()},onClickMicMute:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.checkEnableOpenAudio();case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:t.userMe.audioMuted?window.rtcEngine.unmuteMic():window.rtcEngine.muteMic(),t.updateUser({userId:t.userMe.userId,audioMuted:!t.userMe.audioMuted});case 6:case"end":return e.stop()}}),e)})))()},onClickCamMute:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(A["b"])();case 2:if(n=e.sent,n){e.next=6;break}return t.$message.info("没有检测到摄像头"),e.abrupt("return");case 6:if(!t.userMe.videoMuted){e.next=12;break}return e.next=9,Object(A["f"])();case 9:window.rtcEngine.startVideo(t.videoPorfile),e.next=14;break;case 12:t.userMe.videoAnnotationOpen&&(null===(i=l["RtsService"].getInstance().getAnnotation(t.userMe.userId,"video"))||void 0===i||i.stop()),window.rtcEngine.stopVideo();case 14:t.updateUser({userId:t.userMe.userId,videoMuted:!t.userMe.videoMuted});case 15:case"end":return e.stop()}}),e)})))()},onClickWhiteboard:function(){this.whiteboardAvailable?(this.setWhiteboardOpenState(!this.isWhiteboardOpen),this.isWhiteboardOpen&&!this.wbAdminUser&&Object(b["a"])()):this.$message.info("白板尚未准备好，请稍后重试")},onClickScreen:function(){if(this.userMe.screenOpen)window.rtcEngine.stopScreen(),this.updateUser({userId:this.userMe.userId,screenOpen:!this.userMe.screenOpen});else{var t=window.rtcEngine.startScreen();t&&"NOT_SUPPORTED"===t.code?(this.$message.info("Safari浏览器从版本13开始支持屏幕共享，当前浏览器不支持"),window.rtcEngine.stopScreen()):this.updateUser({userId:this.userMe.userId,screenOpen:!this.userMe.screenOpen})}},openSetting:function(){this.setSettingVisible(!0)},closeSetting:function(){this.setSettingVisible(!1)},onExit:function(){this.$msgbox.confirm("确认退出会议","提示").then(this.leaveChannel).catch((function(){return console.log("取消退出")}))},leaveChannel:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(window.rtcEngine.leaveChannel(),window.rtcWhiteboard&&window.rtcWhiteboard.leaveChannel(),this.userMe.videoAnnotationOpen)&&(null===(t=l["RtsService"].getInstance().getAnnotation(this.userMe.userId,"video"))||void 0===t||t.stop());this.resetMeetingStore(),this.resetUserStore(),window.onbeforeunload=null,e&&this.$router.replace({name:"Login"})},isMobile:function(){return new Promise((function(t,e){var n=navigator.userAgent.toLowerCase(),i="ipad"==n.match(/ipad/i),s="iphone os"==n.match(/iphone os/i),o="midp"==n.match(/midp/i),a="rv:1.2.3.4"==n.match(/rv:1.2.3.4/i),r="ucweb"==n.match(/ucweb/i),c="android"==n.match(/android/i),l="windows ce"==n.match(/windows ce/i),u="windows mobile"==n.match(/windows mobile/i);t(!!(i||s||o||a||r||c||l||u))}))},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null}}),mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.joinChannel(),window.onbeforeunload=function(t){var e=t||window.event;return e&&(e.returnValue="确定离开？"),"确定离开？"};case 2:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.leaveChannel(!1),window.onbeforeunload=null}},J=K,q=(n("5302"),Object(S["a"])(J,s,o,!1,null,"07eea881",null));e["default"]=q.exports},a5d8:function(t,e,n){},af03:function(t,e,n){var i=n("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b50d:function(t,e,n){"use strict";var i=n("c532"),s=n("467f"),o=n("7aac"),a=n("30b5"),r=n("83b9"),c=n("c345"),l=n("3934"),u=n("2d83");t.exports=function(t){return new Promise((function(e,n){var d=t.data,p=t.headers,m=t.responseType;i.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";p.Authorization="Basic "+btoa(f+":"+g)}var b=r(t.baseURL,t.url);function w(){if(h){var i="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,o=m&&"text"!==m&&"json"!==m?h.response:h.responseText,a={data:o,status:h.status,statusText:h.statusText,headers:i,config:t,request:h};s(e,n,a),h=null}}if(h.open(t.method.toUpperCase(),a(b,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,"onloadend"in h?h.onloadend=w:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(w)},h.onabort=function(){h&&(n(u("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},i.isStandardBrowserEnv()){var v=(t.withCredentials||l(b))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;v&&(p[t.xsrfHeaderName]=v)}"setRequestHeader"in h&&i.forEach(p,(function(t,e){"undefined"===typeof d&&"content-type"===e.toLowerCase()?delete p[e]:h.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),m&&"json"!==m&&(h.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),n(t),h=null)})),d||(d=null),h.send(d)}))}},bc3a:function(t,e,n){t.exports=n("cee4")},c345:function(t,e,n){"use strict";var i=n("c532"),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(i.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(a[e]&&s.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},c401:function(t,e,n){"use strict";var i=n("c532"),s=n("2444");t.exports=function(t,e,n){var o=this||s;return i.forEach(n,(function(n){t=n.call(o,t,e)})),t}},c532:function(t,e,n){"use strict";var i=n("1d2b"),s=Object.prototype.toString;function o(t){return"[object Array]"===s.call(t)}function a(t){return"undefined"===typeof t}function r(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function c(t){return"[object ArrayBuffer]"===s.call(t)}function l(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function d(t){return"string"===typeof t}function p(t){return"number"===typeof t}function m(t){return null!==t&&"object"===typeof t}function h(t){if("[object Object]"!==s.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function f(t){return"[object Date]"===s.call(t)}function g(t){return"[object File]"===s.call(t)}function b(t){return"[object Blob]"===s.call(t)}function w(t){return"[object Function]"===s.call(t)}function v(t){return m(t)&&w(t.pipe)}function y(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function _(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.call(null,t[s],s,t)}function x(){var t={};function e(e,n){h(t[n])&&h(e)?t[n]=x(t[n],e):h(e)?t[n]=x({},e):o(e)?t[n]=e.slice():t[n]=e}for(var n=0,i=arguments.length;n<i;n++)S(arguments[n],e);return t}function O(t,e,n){return S(e,(function(e,s){t[s]=n&&"function"===typeof e?i(e,n):e})),t}function T(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}t.exports={isArray:o,isArrayBuffer:c,isBuffer:r,isFormData:l,isArrayBufferView:u,isString:d,isNumber:p,isObject:m,isPlainObject:h,isUndefined:a,isDate:f,isFile:g,isBlob:b,isFunction:w,isStream:v,isURLSearchParams:y,isStandardBrowserEnv:C,forEach:S,merge:x,extend:O,trim:_,stripBOM:T}},c5d0:function(t,e,n){"use strict";var i=n("23e7"),s=n("857a"),o=n("af03");i({target:"String",proto:!0,forced:o("italics")},{italics:function(){return s(this,"i","","")}})},c8af:function(t,e,n){"use strict";var i=n("c532");t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},cc71:function(t,e,n){"use strict";var i=n("23e7"),s=n("857a"),o=n("af03");i({target:"String",proto:!0,forced:o("bold")},{bold:function(){return s(this,"b","","")}})},cee4:function(t,e,n){"use strict";var i=n("c532"),s=n("1d2b"),o=n("0a06"),a=n("4a7b"),r=n("2444");function c(t){var e=new o(t),n=s(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var l=c(r);l.Axios=o,l.create=function(t){return c(a(l.defaults,t))},l.Cancel=n("7a77"),l.CancelToken=n("8df4"),l.isCancel=n("2e67"),l.all=function(t){return Promise.all(t)},l.spread=n("0df6"),l.isAxiosError=n("5f02"),t.exports=l,t.exports.default=l},d925:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var s=t[i];"."===s?t.splice(i,1):".."===s?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t){"string"!==typeof t&&(t+="");var e,n=0,i=-1,s=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!s){n=e+1;break}}else-1===i&&(s=!1,i=e+1);return-1===i?"":t.slice(n,i)}function s(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(s(e.split("/"),(function(t){return!!t})),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),a="/"===o(t,-1);return t=n(s(t.split("/"),(function(t){return!!t})),!i).join("/"),t||i||(t="."),t&&a&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(s(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var s=i(t.split("/")),o=i(n.split("/")),a=Math.min(s.length,o.length),r=a,c=0;c<a;c++)if(s[c]!==o[c]){r=c;break}var l=[];for(c=r;c<s.length;c++)l.push("..");return l=l.concat(o.slice(r)),l.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,s=!0,o=t.length-1;o>=1;--o)if(e=t.charCodeAt(o),47===e){if(!s){i=o;break}}else s=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=i(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,i=-1,s=!0,o=0,a=t.length-1;a>=0;--a){var r=t.charCodeAt(a);if(47!==r)-1===i&&(s=!1,i=a+1),46===r?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!s){n=a+1;break}}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===n+1?"":t.slice(e,i)};var o="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e683:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e8a6:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-popup",{attrs:{position:"bottom"},model:{value:t.isPopupShow,callback:function(e){t.isPopupShow=e},expression:"isPopupShow"}},[n("p",[t._v("本人已"),n("span",{staticClass:"fontStyle"},[t._v("阅读")]),t._v("保险条款、产品说明书和投保提示书，"),n("span",{staticClass:"fontStyle"},[t._v("了解")]),t._v("本产品的"),n("span",{staticClass:"fontStyle"},[t._v("特点")]),t._v("和保单利益的"),n("span",{staticClass:"fontStyle"},[t._v("不确定性")])]),n("p",[t._v("本人已"),n("img",{key:t.commentData.text[0].img[0],staticClass:"textImg",attrs:{src:t.commentData.text[0].img[0]}}),n("img",{key:t.commentData.text[0].img[1],staticClass:"textImg",attrs:{src:t.commentData.text[0].img[1]}}),t._v("保险条款、产品说明书和投保提示书， "),n("img",{key:t.commentData.text[1].img[0],staticClass:"textImg",attrs:{src:t.commentData.text[1].img[0]}}),n("img",{key:t.commentData.text[1].img[1],staticClass:"textImg",attrs:{src:t.commentData.text[1].img[1]}}),t._v("本产品的 "),n("img",{key:t.commentData.text[2].img[0],staticClass:"textImg",attrs:{src:t.commentData.text[2].img[0]}}),n("img",{key:t.commentData.text[2].img[1],staticClass:"textImg",attrs:{src:t.commentData.text[2].img[1]}}),t._v("和保单利益的 "),n("img",{key:t.commentData.text[3].img[0],staticClass:"textImg",attrs:{src:t.commentData.text[3].img[0]}}),n("img",{key:t.commentData.text[3].img[1],staticClass:"textImg",attrs:{src:t.commentData.text[3].img[1]}}),n("img",{key:t.commentData.text[3].img[2],staticClass:"textImg",attrs:{src:t.commentData.text[3].img[2]}}),n("img",{key:t.commentData.text[3].img[3],staticClass:"textImg",attrs:{src:t.commentData.text[3].img[3]}})]),n("any-sign",{key:t.refreshKey,ref:"anySign",attrs:{EncAlg:t.EncAlg,channel:t.channel,formData:t.formData,businessId:t.businessId,templateType:t.templateType,templateSerial:t.templateSerial,signObj:t.signObj,commentsObj:t.commentsObj,contextId:t.contextId},on:{signSubmit:t.signSubmit,signCallBack:t.signCallBack,againImg:t.againImg,cancelComment:t.cancelComment,commentBack:function(e){return t.commentBack()}}})],1),n("md-button",{attrs:{type:"primary"},on:{click:function(e){return t.showCommentDialog(30)}}},[t._v("批注")]),n("md-button",{attrs:{type:"primary"},on:{click:function(e){return t.getSignData()}}},[t._v("生成上传数据")])],1)},s=[],o=n("ade3"),a=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"anySignMiniCore"},[t._m(0),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isPopupShow,expression:"isPopupShow"}],staticClass:"dialog"},[n("div",{staticClass:"md-example-popup md-example-popup-bottom"},[n("center",[n("div",{staticStyle:{display:"none"},attrs:{width:"100%",id:"single_dialog"}},[n("div",{staticStyle:{display:"none"},attrs:{width:"100%"}},[n("p",{staticStyle:{"padding-bottom":"20px"},attrs:{width:"100%",id:"anysign_title"}}),n("div",{staticStyle:{position:"relative"},attrs:{width:"100%"}},[n("div",{staticStyle:{position:"absolute",top:"-10px",left:"30px",width:"100px",background:"#fff","padding-left":"20px",height:"15px"}},[n("img",{staticStyle:{float:"left"},attrs:{width:"15px",height:"15px",src:t.biPng,align:"absmiddle"}}),t._v(" 手写签名 ")]),n("div",{staticClass:"signImagecss",staticStyle:{overflow:"hidden",width:"100% !important"},attrs:{id:"single_signImage"}})])]),n("div",{staticClass:"single_tmpcanvascss",attrs:{id:"single_tmpcanvascss"}},[n("div",{style:{"background-image":"url("+t.meterPng+") !important"},attrs:{id:"single_signTitle"}}),n("canvas",{attrs:{id:"single_anysignCanvas"}})]),n("div",{staticClass:"btncontainer",attrs:{id:"btnContainerInner"}},[n("input",{staticClass:"button_new",attrs:{type:"button",id:"btnOK",value:"确 定"},on:{click:function(e){return t.signSubmit()}}}),n("input",{staticClass:"button_new",attrs:{type:"button",id:"btnBack",value:"后 退"},on:{click:function(e){return t.signBack()}}}),n("input",{directives:[{name:"show",rawName:"v-show",value:!t.signObj.signatureConfig.isautomatic,expression:"!signObj.signatureConfig.isautomatic"}],staticClass:"button_new",attrs:{type:"button",id:"btnNext",value:"下一个"},on:{click:function(e){return t.signNext()}}}),n("input",{directives:[{name:"show",rawName:"v-show",value:!t.signObj.signatureConfig.isautomatic,expression:"!signObj.signatureConfig.isautomatic"}],staticClass:"button_new",attrs:{type:"button",id:"clearCurrent",value:"当前清屏"}}),n("input",{staticClass:"button orange",attrs:{id:"btnClear",type:"button",value:"清 屏",onclick:"javascript:clear_canvas();"}}),n("input",{staticClass:"button_new",attrs:{type:"button",id:"btnCancel",value:"取 消"},on:{click:function(e){return t.cancelSign()}}})])]),n("div",{staticStyle:{display:"none"},attrs:{id:"dialog"}},[n("div",{staticStyle:{color:"#333333"},attrs:{id:"anysign_title",width:"100%",height:"10%"}},[t._v(t._s(t.signObj.signatureConfig.title)+" ")]),n("div",{attrs:{id:"container",onmousedown:"return false;"}},[n("canvas",{attrs:{id:"anysignCanvas",width:"1"}})]),n("div",{staticStyle:{"text-align":"center","vertical-align":"middle"},attrs:{id:"single_scrollbar",width:"100%"}},[n("span",{attrs:{id:"single_scroll_text"}},[t._v(" *滑动操作：")]),n("input",{staticClass:"button orange",attrs:{id:"single_scrollbar_up",type:"button",value:"左移"}}),n("input",{staticClass:"button orange",attrs:{id:"single_scrollbar_down",type:"button",value:"右移"}})]),n("div",{attrs:{id:"btnContainerOuter",width:"100%"}},[n("div",{staticStyle:{"text-align":"center","font-size":"5pt"},attrs:{id:"btnContainerInner",width:"100%"}},[n("input",{staticClass:"button orange",attrs:{id:"btnOK",type:"button",value:"确 定"},on:{click:function(e){return t.signSubmit()}}}),n("input",{staticClass:"button orange",attrs:{id:"btnClear",type:"button",value:"清 屏",onclick:"javascript:clear_canvas();"}}),n("input",{staticClass:"button orange",attrs:{id:"btnCancel",type:"button",value:"取 消"},on:{click:function(e){return t.cancelSign()}}})])])]),n("div",{staticStyle:{display:"none"},attrs:{id:"comment_dialog"}},[n("div",{staticStyle:{display:"none"},attrs:{id:"leftView"}},[n("p",{attrs:{id:"comment_title"}}),n("div",{staticClass:"signImagecss",attrs:{id:"signImage"}})]),n("div",{staticClass:"tmpcanvascss",attrs:{id:"tmpcanvascss"}},[n("div",{attrs:{id:"signTitle"}}),n("canvas",{attrs:{id:"comment_canvas"}})]),n("div",{staticClass:"comment_btncontainer",attrs:{id:"comment_btnContainerInner"}},[n("input",{staticClass:"button orange",attrs:{id:"comment_ok",type:"button",value:"确 定"},on:{click:function(e){return t.signSubmit()}}}),n("input",{staticClass:"button orange",attrs:{id:"comment_back",type:"button",value:"后退"},on:{click:function(e){return t.commentBack()}}}),n("input",{directives:[{name:"show",rawName:"v-show",value:!t.signObj.signatureConfig.isautomatic,expression:"!signObj.signatureConfig.isautomatic"}],staticClass:"button_new",attrs:{type:"button",id:"comment_next",value:"下一个"}}),n("input",{directives:[{name:"show",rawName:"v-show",value:!t.signObj.signatureConfig.isautomatic,expression:"!signObj.signatureConfig.isautomatic"}],staticClass:"button_new",attrs:{type:"button",id:"comment_current",value:"当前清屏"}}),n("input",{staticClass:"button orange",attrs:{id:"comment_cancel",type:"button",value:"取 消"},on:{click:function(e){return t.commentCancel()}}})])])])],1)])])}),r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"alert_dialog",staticStyle:{display:"none"},attrs:{id:"alert_dialog"}},[n("div",{staticClass:"alert_area"},[n("div",{staticClass:"alert_text"},[t._v("签名偶发异常，请尝试重新签名。如果还是不行，请切换其它签名方式，并上报相关情况。")]),n("div",{staticClass:"alert_btn",attrs:{id:"btnAlert"}},[t._v("确 定")])])])}],c=n("1da1"),l=(n("d3b7"),n("d81d"),n("96cf"),n("b9eb")),u=n("751a"),d={name:"any-sign",components:{},props:{EncAlg:{type:String,default:function(){return"SM2"}},channel:{type:String},formData:{type:String,default:function(){return""}},businessId:{type:String,default:function(){return""}},templateType:{type:String,default:function(){return"12"}},templateSerial:{type:String,default:function(){return""}},contextId:{type:Array,default:function(){return[20]}},signObj:{type:Object,default:function(){return{signName:"",signIdNo:"",signLocaType:"",signRuleKeyWord:{keyword:"",xOffset:"",yOffset:"",pageNo:"",KWIndex:""},signRuleXYZ:{left:"",top:"",right:"",bottom:"",pageNo:"",unit:""},signatureConfig:{cid:"0",title:"请签名",titleSpanFromOffset:4,titleSpanToOffset:5,isTSS:!1,nessesary:!1,singleWidth:50,singleHeight:50,signature_stroke_width:5,penColor:"#000000",signatureImgRatio:"1.0",signature_max_times:2,iscontinuity:!0,resolution:50,isdistinguish:!1,ocrTime:3e3,isautomatic:!1},isOpenOcr:!1,ocrObj:{iPAdress:"",businessNo:"",businessType:"",systemType:""}}}},commentsObj:{type:Object,default:function(){return{signName:"",signIdNo:"",signLocaType:"",signRuleKeyWord:{keyword:"",xOffset:"",yOffset:"",pageNo:"",KWIndex:""},signRuleXYZ:{left:"",top:"",right:"",bottom:"",pageNo:"",unit:""},commentConfig:{cid:"30",commitment:"",commentImgRatio:3,mass_words_in_single_line:25,mass_word_height:50,mass_word_width:50,comment_stroke_width:10,penColor:"#000000",nessesary:!1,comment_max_times:2,resolution:50,isdistinguish:!0,ocrTime:3e3,isautomatic:!1},isOpenOcr:!1,ocrObj:{iPAdress:"",businessNo:"",businessType:"",systemType:""}}}}},data:function(){return{baseImges1:[],ocrCapture:null,biPng:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/image/bi.png",meterPng:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/image/meter.png",isPopupShow:!1,apiInstance:null,signInfo:{},signImgs:[],commentImgs:[],resources:{css:{canvas_css:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/css/canvas_css.css",sp:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/css/sp.css",mw480Portrait:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/css/mw480Portrait.css",sw1024:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/css/sw1024.css"},js:{default:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/libs/zlib/deflate.min.js",cryptoCore:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/libs/CryptoJS v3.1.2/components/core-min.js",cryptoSha1:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/libs/CryptoJS v3.1.2/rollups/sha1.js",cryptoTripledes:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/libs/CryptoJS v3.1.2/rollups/tripledes.js",cryptoModeEcb:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/libs/CryptoJS v3.1.2/components/mode-ecb.js",anysignCommentUI:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/libs/anysignCommentUI.js",jquery:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/libs/jquery-1.4.2.min.js",anysignAll:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/libs/anysign_all.min_3.1.js",anysignWebInterface:"https://cdn1.huaruisales.com/mobsite/lib/anysign_tp/anysignWebInterface.js"}}}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,i,s,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,"undefined"!=typeof window.anysignstartload){e.next=51;break}for(o in window.anysignstartload=!0,i=n.resources.css,s=n.resources.js,n.resources.css)i.hasOwnProperty(o)&&(a=i[o],n.initCss(a));return e.next=8,n.initJs(s.default);case 8:if(e.t7=e.sent,!e.t7){e.next=13;break}return e.next=12,n.initJs(s.cryptoCore);case 12:e.t7=e.sent;case 13:if(e.t6=e.t7,!e.t6){e.next=18;break}return e.next=17,n.initJs(s.cryptoSha1);case 17:e.t6=e.sent;case 18:if(e.t5=e.t6,!e.t5){e.next=23;break}return e.next=22,n.initJs(s.cryptoTripledes);case 22:e.t5=e.sent;case 23:if(e.t4=e.t5,!e.t4){e.next=28;break}return e.next=27,n.initJs(s.cryptoModeEcb);case 27:e.t4=e.sent;case 28:if(e.t3=e.t4,!e.t3){e.next=33;break}return e.next=32,n.initJs(s.anysignCommentUI);case 32:e.t3=e.sent;case 33:if(e.t2=e.t3,!e.t2){e.next=38;break}return e.next=37,n.initJs(s.jquery);case 37:e.t2=e.sent;case 38:if(e.t1=e.t2,!e.t1){e.next=43;break}return e.next=42,n.initJs(s.anysignAll);case 42:e.t1=e.sent;case 43:if(e.t0=e.t1,!e.t0){e.next=48;break}return e.next=47,n.initJs(s.anysignWebInterface);case 47:e.t0=e.sent;case 48:if(e.t8=e.t0,!e.t8){e.next=51;break}(function(){window.loaded=!0,n.initSign()})();case 51:case"end":return e.stop()}}),e)})))()},methods:{initCss:function(t){var e=document.createElement("link");e.rel="icon",e.href=t,document.body.appendChild(e)},initJs:function(t){return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var n=document.createElement("script"),i=document.getElementsByTagName("head")[0];n.type="text/javascript",n.src=t,i.appendChild(n),n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||e(!0),n.onload.onload=n.onreadystatechange=null}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},initSign:function(){var t=this;window.custom_alert=function(){};var e=function(t){console.log(t),"0"!=t&&("10003"==t?l["a"].info("输入数据项无法解析！",1e3):"10011"==t?l["a"].info("服务系统异常错误！",1e3):"10100"==t?l["a"].info("识别结果为空！",1e3):"10101"==t?l["a"].info("连接识别服务超时！",1e3):"10102"==t?l["a"].info("连接识别服务异常！",1e3):"-1"==t?l["a"].info("书写错误！",1e3):l["a"].info("签字识别失败，请稍后再试",1e3))},n=function(e,n,i){if(n==window.CALLBACK_TYPE_DIALOG_CANCEL||n==window.CALLBACK_TYPE_START_RECORDING||n==window.CALLBACK_TYPE_STOP_RECORDING)return l["a"].hide();if(n==window.CALLBACK_TYPE_SIGNATURE?t.signInfo.signImg="data:image/png;base64,"+i:n==window.CALLBACK_TYPE_COMMENTSIGN&&(t.signInfo.commentImg="data:image/png;base64,"+i),20==e&&t.$emit("signSubmit",e,t.signInfo.signImg,Array.prototype.map.call(t.signImgs,(function(t){return t.src}))),21==e){if(t.signImgs=document.getElementById("single_signImage").querySelectorAll("img"),t.signImgs.length<t.signObj.signName.length)return l["a"].info("请完成签名",1e3);t.$emit("signSubmit",e,t.signInfo.signImg,Array.prototype.map.call(t.signImgs,(function(t){return t.src})))}else if(30==e){if(t.commentImgs=document.getElementById("signImage").querySelectorAll("img"),t.commentImgs.length<t.commentsObj.commentConfig.commitment.length)return l["a"].info("请完成签名",1e3);t.$emit("signSubmit",e,t.signInfo.commentImg,Array.prototype.map.call(t.commentImgs,(function(t){return t.src})))}l["a"].hide(),t.isPopupShow=!1};window.EncAlgType.EncAlg=t.EncAlg,t.apiInstance=new window.AnySignApi;var i=t.apiInstance.initAnySignApi(n,t.channel);if(!i)return l["a"].info("初始化签名组件失败",1e3);var s=new window.OCRCapture;if(t.signObj.signatureConfig.isdistinguish?(s.text=t.signObj.signName,s.resolution=t.signObj.signatureConfig.resolution):t.commentsObj.commentConfig.isdistinguish?(s.text=t.commentsObj.commentConfig.commitment,s.resolution=t.commentsObj.commentConfig.resolution):(s.text="a",s.resolution=50),s.IPAdress="https://m.95549.cn/HWR/RecvServlet",s.appID="123",s.count=5,s.language=Language.CHS,s.resolution=80,s.serviceID="999999",t.ocrCapture=s,t.setIdentifyCallBack(e),Array.isArray(t.contextId))for(var o=0;o<t.contextId.length;o++){var a=t.contextId[o];if(i=30==a?t.addCommentObj(30):t.addSignatureObj(a),!i)return l["a"].info("初始化签名组件失败",1e3)}if(i=t.apiInstance.commitConfig(),!i)return l["a"].info("初始化签名组件失败",1e3);t.setTemplateData()},setTemplateData:function(){var t=this,e=t.apiInstance.setTemplate(t.templateType||window.TemplateType.PDF,t.formData,t.businessId,t.templateSerial);return e?console.log("设置模板数据成功"):(console.log("设置模板数据失败"),l["a"].info("设置模板数据失败",1e3))},setIdentifyCallBack:function(t){if(!this.apiInstance)return console.log("信手书接口没有初始化"),l["a"].info("信手书接口没有初始化",1e3);this.apiInstance.setIdentifyCallBack(t)},addSignatureObj:function(t){var e=this;if(!e.signObj.signName||!e.signObj.signIdNo)return!1;var n=new window.Signer(e.signObj.signName,e.signObj.signIdNo),i=null;if(e.signObj&&"1"==e.signObj.signLocaType&&e.signObj.signRuleKeyWord)i=new window.SignRule_KeyWordV2(e.signObj.signRuleKeyWord.keyword,e.signObj.signRuleKeyWord.xOffset,e.signObj.signRuleKeyWord.yOffset,e.signObj.signRuleKeyWord.pageNo,e.signObj.signRuleKeyWord.KWIndex);else{if(!e.signObj||"2"!=e.signObj.signLocaType||!e.signObj.signRuleXYZ)return l["a"].info("缺少定位参数",1e3);i=new window.SignRule_XYZ(e.signObj.signRuleXYZ.left,e.signObj.signRuleXYZ.top,e.signObj.signRuleXYZ.right,e.signObj.signRuleXYZ.bottom,e.signObj.signRuleXYZ.pageNo,e.signObj.signRuleXYZ.unit)}var s=new window.SignatureConfig(n,i),o=new window.TimeTag(1,"yyyy-MM-dd hh:mm:ss");if(!e.signObj.signatureConfig)return l["a"].info("缺少单签配置信息",1e3);s.cid=e.signObj.signatureConfig.cid,s.title=e.signObj.signatureConfig.title,s.titleSpanFromOffset=e.signObj.signatureConfig.titleSpanFromOffset,s.titleSpanToOffset=e.signObj.signatureConfig.titleSpanToOffset,s.isTSS=e.signObj.signatureConfig.isTSS,s.nessesary=e.signObj.signatureConfig.nessesary,s.singleWidth=e.signObj.signatureConfig.singleWidth,s.singleHeight=e.signObj.signatureConfig.singleHeight,s.signature_stroke_width=e.signObj.signatureConfig.signature_stroke_width,s.penColor=e.signObj.signatureConfig.penColor,s.signatureImgRatio=e.signObj.signatureConfig.signatureImgRatio,s.timeTag=o,s.signature_max_times=e.signObj.signatureConfig.signature_max_times,s.isdistinguish=e.signObj.signatureConfig.isdistinguish,s.ocrTime=e.signObj.signatureConfig.ocrTime,s.isautomatic=e.signObj.signatureConfig.isautomatic,s.ocrCapture=e.ocrCapture;var a=e.apiInstance.addSignatureObj(t,s);return a?(console.log("注册签名框成功"),a):(console.log("注册签名框失败"),a)},addCommentObj:function(t){var e=this;if(!e.commentsObj.signName||!e.commentsObj.signIdNo)return!1;var n=new window.Signer(e.commentsObj.signName,e.commentsObj.signIdNo),i=null;if(e.commentsObj&&"1"==e.commentsObj.signLocaType&&e.commentsObj.signRuleKeyWord)i=new window.SignRule_KeyWordV2(e.commentsObj.signRuleKeyWord.keyword,e.commentsObj.signRuleKeyWord.xOffset,e.commentsObj.signRuleKeyWord.yOffset,e.commentsObj.signRuleKeyWord.pageNo,e.commentsObj.signRuleKeyWord.KWIndex);else{if(!e.commentsObj||"2"!=e.commentsObj.signLocaType||!e.commentsObj.signRuleXYZ)return l["a"].info("缺少定位参数",1e3);i=new window.SignRule_XYZ(e.commentsObj.signRuleXYZ.left,e.commentsObj.signRuleXYZ.top,e.commentsObj.signRuleXYZ.right,e.commentsObj.signRuleXYZ.bottom,e.commentsObj.signRuleXYZ.pageNo,e.commentsObj.signRuleXYZ.unit)}var s=new window.CommentConfig(n,i);if(!e.commentsObj.commentConfig)return l["a"].info("缺少批注配置信息",1e3);s.cid=e.commentsObj.commentConfig.cid,s.commitment=e.commentsObj.commentConfig.commitment,s.mass_words_in_single_line=e.commentsObj.commentConfig.mass_words_in_single_line,s.mass_word_height=e.commentsObj.commentConfig.mass_word_height,s.mass_word_width=e.commentsObj.commentConfig.mass_word_width,s.penColor=e.commentsObj.commentConfig.penColor,s.comment_stroke_width=e.commentsObj.commentConfig.comment_stroke_width,s.nessesary=e.commentsObj.commentConfig.nessesary,s.commentImgRatio=e.commentsObj.commentConfig.commentImgRatio,s.comment_max_times=e.commentsObj.commentConfig.comment_max_times,s.isdistinguish=e.commentsObj.commentConfig.isdistinguish,s.ocrTime=e.commentsObj.commentConfig.ocrTime,s.isautomatic=e.commentsObj.commentConfig.isautomatic,s.ocrCapture=e.ocrCapture;var o=e.apiInstance.addCommentObj(t,s);return o?(console.log("注册批注框成功"),o):(console.log("注册批注框失败"),o)},signDialog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=this;if(e.apiInstance||(console.log("信手书接口没有初始化1"),e.initSign()),20==t)switch(e.apiInstance.showSignatureDialog(t)){case e.apiInstance.RESULT_OK:e.isPopupShow=!0;break;case e.apiInstance.EC_API_NOT_INITED:console.log("信手书接口没有初始化");break;case e.apiInstance.EC_WRONG_CONTEXT_ID:break}else if(21==t)switch(e.apiInstance.showSingleSignDialog(t)){case e.apiInstance.RESULT_OK:e.isPopupShow=!0,window.getSignImg=e.checkSignImg;break;case e.apiInstance.EC_API_NOT_INITED:console.log("信手书接口没有初始化");break;case e.apiInstance.EC_WRONG_CONTEXT_ID:console.log("没有配置相应context_id的签字对象");break}},commentDialog:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=this;switch(e.apiInstance||(console.log("初次检查：信手书接口没有初始化"),e.initSign()),e.apiInstance.showCommentDialog(t)){case 0:e.isPopupShow=!0,window.getCommentImg=e.checkCommentImg;break;case 1:console.log("二次检查：信手书接口没有初始化");break;case 2:console.log("没有配置相应context_id的签字对象");break;case 5:console.log("批注签名框已弹出，请勿重复操作！")}},checkSignImg:function(t,e){var n=this;return this.signObj.isOpenOcr?(l["a"].loading("识别中"),this.ocr({iPAdress:this.signObj.ocrObj.iPAdress,businessNo:this.signObj.ocrObj.businessNo,businessType:this.signObj.ocrObj.businessType,imageBase64:t,systemType:this.signObj.ocrObj.systemType,text:e}).then((function(i){return i&&"1"==i.resultCode?"CONSISTENCY"==i.result?(l["a"].hide(),n.$emit("signCallBack",{img:t,text:e}),!0):(setTimeout((function(){l["a"].hide(),setTimeout((function(){l["a"].info("识别失败",1e3)}),200)}),10),!1):(l["a"].info(i.failDesc||"识别失败",1e3),!1)}))):new Promise((function(i){n.$emit("signCallBack",{img:t,text:e}),i(!0)}))},checkCommentImg:function(t,e){var n=this;return console.log(t,e,"checkCommentImg",this.commentsObj.commentConfig.commitment),this.baseImges1.push(t),this.baseImges1.length==this.commentsObj.commentConfig.commitment.length&&this.drawCanvas(this.baseImges1),this.commentsObj.isOpenOcr?(l["a"].loading("识别中"),this.ocr({iPAdress:this.commentsObj.ocrObj.iPAdress,businessNo:this.commentsObj.ocrObj.businessNo,businessType:this.commentsObj.ocrObj.businessType,imageBase64:t,systemType:this.commentsObj.ocrObj.systemType,text:e}).then((function(i){return i&&"1"==i.resultCode?"CONSISTENCY"==i.result?(l["a"].hide(),n.$emit("signCallBack",{img:t,text:e}),!0):(setTimeout((function(){l["a"].hide(),setTimeout((function(){l["a"].info("识别失败",1e3)}),200)}),10),!1):(l["a"].info(i.failDesc||"识别失败",1e3),!1)}))):(console.log(2222),new Promise((function(i){n.$emit("signCallBack",{img:t,text:e}),i(!0)})))},signBack:function(){this.$emit("signBack")},commentBack:function(){this.baseImges1&&this.baseImges1.length>0&&this.baseImges1.pop(),this.$emit("commentBack")},cancelSign:function(){this.$emit("cancelSign"),this.isPopupShow=!1,window.cancelSign()},commentCancel:function(){console.log("取消"),this.$emit("cancelComment"),this.isPopupShow=!1},signSubmit:function(){l["a"].info("加载中"),window.sign_confirm()},ocr:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,s,o,a,r,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.iPAdress,s=t.businessNo,o=t.businessType,a=t.imageBase64,r=t.systemType,c=t.text,n.next=3,e.imgBgColor(a);case 3:return a=n.sent,l=u["a"].post(i,{businessNo:s,businessType:o,systemType:r,imageType:"HANDWRITE",imageBase64:a,imageFormat:"jpg",isVerifyCont:"1",verifyInfo:JSON.stringify({content:c})}),console.log(l),n.abrupt("return",l);case 7:case"end":return n.stop()}}),n)})))()},drawCanvas:function(t){var e=this,n=document.createElement("canvas"),i=n.getContext("2d"),s=new window.Image;s.src=t[0],n.width=s.width*t.length,n.height=s.height,i.fillStyle="#ffffff",i.fillRect(0,0,n.width,n.height);var o=t.length;(function s(a){if(a<o){var r=new Image;r.onload=function(){i.drawImage(r,r.width*a,0),s(a+1)},r.src=t[a]}else e.$emit("againImg",n.toDataURL("image/jpeg"))})(0)},imgBgColor:function(t){var e=arguments;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,s,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:"#ffffff",s=document.createElement("canvas"),o=s.getContext("2d"),a=new window.Image,a.src=t,n.next=7,new Promise((function(t){a.onload=function(){s.width=a.width,s.height=a.height,o.fillStyle=i,o.fillRect(0,0,s.width,s.height),o.drawImage(a,0,0),t(s.toDataURL("image/jpeg"))}}));case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n)})))()},getSignInfo:function(){var t=this;if(console.log(t.apiInstance.isReadyToUpload()),t.apiInstance.isReadyToUpload()){var e=t.apiInstance.getUploadDataGram();return t.signInfo.signData=e,t.signInfo}}}},p=d,m=(n("0601"),n("2877")),h=Object(m["a"])(p,a,r,!1,null,"0fed5859",null),f=h.exports,g={components:Object(o["a"])({},f.name,f),data:function(){return{refreshKey:null,num:1,EncAlg:"SM2",channel:"10086",formData:"TESTData",businessId:"123123",templateType:"12",templateSerial:"111l1",contextId:[20,21,30],signObj:{signName:"李四",signIdNo:"513436198505073748",signLocaType:"1",signRuleKeyWord:{keyword:"fxcl2",xOffset:"5",yOffset:"-5",pageNo:"1",KWIndex:"1"},signRuleXYZ:{left:"",top:"",right:"",bottom:"",pageNo:"",unit:""},signatureConfig:{cid:"0",title:"请签名",titleSpanFromOffset:"4",titleSpanToOffset:"5",isTSS:!1,nessesary:!1,singleWidth:50,singleHeight:50,penColor:"#000000",signatureImgRatio:"1.0"},isOpenOcr:!1,ocrObj:{iPAdress:"https://dat-m.95549.cn/restful/ai/ocr/recognize",businessNo:"1909111995134355467",businessType:"HANDWRITE_TEST",systemType:"TEST"}},commentsObj:{signName:"李四",signIdNo:"513436198505073748",signLocaType:"1",signRuleKeyWord:{keyword:"fxcl2",xOffset:"5",yOffset:"-5",pageNo:"1",KWIndex:"1"},signRuleXYZ:{left:"",top:"",right:"",bottom:"0",pageNo:"",unit:""},commentConfig:{cid:"30",commitment:"",commentImgRatio:3,mass_words_in_single_line:2,mass_word_height:50,mass_word_width:50,comment_stroke_width:10,penColor:"#000000",nessesary:!1,comment_max_times:2,isdistinguish:!0},isOpenOcr:!1,ocrObj:{iPAdress:"https://dat-m.95549.cn/restful/ai/ocr/recognize",businessNo:"1909111995134355467",businessType:"DEMO",systemType:"GH-DEMO"}},isPopupShow:!1,commentData:{text:[{value:"阅读",img:[]},{value:"了解",img:[]},{value:"特点",img:[]},{value:"不确定性",img:[]}],current:0}}},methods:{showSignDialog:function(t){this.$refs.anySign.signDialog(t)},showCommentDialog:function(t){this.commentData.current=0,this.$refs.anySign.commentDialog(t),this.commentsObj.commentConfig.commitment=this.commentData.text[this.commentData.current].value;for(var e=0;e<this.commentData.text.length;e++)this.commentData.text[e].img=[];this.refresh(),this.isPopupShow=!0},cancelComment:function(){console.log("取消"),this.commentData.current=0,this.commentsObj.commentConfig.commitment=this.commentData.text[this.commentData.current].value;for(var t=0;t<this.commentData.text.length;t++)this.commentData.text[t].img=[];this.refresh(),this.isPopupShow=!1},commentBack:function(){console.log("回退");var t=this;t.commentData.text[t.commentData.current].img.length<=0?setTimeout((function(){t.commentData.current>0&&(t.commentData.current--,t.commentData.text[t.commentData.current].img=[],t.commentsObj.commentConfig.commitment=t.commentData.text[t.commentData.current].value,t.refresh())}),100):t.commentData.text[t.commentData.current].img.pop()},signCallBack:function(t){var e=this,n=t.img,i=(t.text,this);i.commentData.text[i.commentData.current].img.push(n),i.commentData.text[i.commentData.current].value.length==i.commentData.text[i.commentData.current].img.length&&(console.log(99999,i.commentData.text[i.commentData.current].img),setTimeout((function(){i.commentData.current!=i.commentData.text.length-1&&(e.num++,document.getElementById("comment_ok").click(),i.getSignData(),i.commentData.current<i.commentData.text.length-1&&(i.commentData.current++,i.commentsObj.commentConfig.commitment=i.commentData.text[i.commentData.current].value,i.refresh()))}),200))},refresh:function(){var t=this;this.refreshKey=(new Date).getTime(),this.$nextTick((function(){t.$refs.anySign.commentDialog(30)}))},againImg:function(t){console.log(t,"重新开始")},signSubmit:function(t,e,n){this.commentData.current==this.commentData.text.length-1&&(this.isPopupShow=!1)},getSignData:function(){var t=this.$refs.anySign.getSignInfo();console.log(t)}}},b=g,w=(n("235a"),Object(m["a"])(b,i,s,!1,null,"0de6c3a4",null));e["default"]=w.exports},f6b4:function(t,e,n){"use strict";var i=n("c532");function s(){this.handlers=[]}s.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},s.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},s.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=s}}]);
//# sourceMappingURL=index-page.b6207e7d.js.map